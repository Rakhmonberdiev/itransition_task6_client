<div
  class="max-w-xl mt-1 mx-auto mb-6 px-6 py-4 rounded-xl bg-gradient-to-r from-slate-100 to-slate-300 shadow flex items-center justify-between"
>
  <div class="flex items-center gap-3">
    <div
      class="w-10 h-10 rounded-full bg-slate-600 text-white flex items-center justify-center text-lg font-bold"
    >
      {{ userService.user()!.name[0] }}
    </div>
    <div>
      <p class="text-sm text-gray-600">Welcome back</p>
      <p class="text-base font-semibold text-gray-800">
        {{ userService.user()!.name }}
      </p>
    </div>
  </div>
  <button
    (click)="logout()"
    class="bg-slate-500 text-white gap-1 px-4 py-2 cursor-pointer font-semibold tracking-widest rounded-md hover:bg-slate-400 duration-200 hover:gap-2 hover:scale-110"
  >
    Log out
  </button>
</div>
<div class="min-h-screen bg-white-50 p-6">
  <h1 class="text-3xl font-bold mb-6 text-center">Available presentations</h1>
  @if(loading()){
  <div class="text-center text-gray-500">Loading...</div>
  } @if(error()){
  <div class="text-center text-red-600">{{ error() }}</div>
  } @if(presentations().length === 0){
  <div class="text-center text-gray-500">No presentations found.</div>
  } @else {
  <div class="grid gap-4 max-w-xl mx-auto">
    @for (item of presentations(); track $index) {
    <div
      class="bg-slate-50 shadow-md p-4 rounded flex items-center justify-between"
    >
      <div>
        <h2 class="text-lg font-semibold">{{ item.title }}</h2>
        <p class="text-sm text-gray-500">Author: {{ item.creatorName }}</p>
      </div>
      <button
        (click)="join(item.id)"
        class="bg-slate-500 text-white gap-1 px-4 py-2 cursor-pointer font-semibold tracking-widest rounded-md hover:bg-slate-400 duration-200 hover:gap-2 hover:scale-110"
      >
        Join
      </button>
    </div>
    }
  </div>
  <div class="flex justify-center mt-8">
    @if(!creating()){
    <button
      (click)="startCreate()"
      class="flex items-center gap-2 px-5 py-3 rounded-lg bg-slate-600 text-white font-semibold hover:bg-slate-700 transition duration-200 shadow-md"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 4v16m8-8H4"
        />
      </svg>
      New presentation
    </button>
    } @else {
    <div class="flex items-center gap-2">
      <input
        type="text"
        [ngModel]="newTitle()"
        (ngModelChange)="newTitle.set($event)"
        placeholder="Enter title"
        class="px-4 py-2 border border-neutral-300 shadow rounded-lg placeholder:text-neutral-500 focus:border-neutral-900 focus:shadow-lg focus:outline-none transition-all duration-200"
      />
      <button
        (click)="submitCreate()"
        class="bg-slate-500 text-white gap-1 px-4 py-2 cursor-pointer font-semibold rounded-md hover:bg-slate-400 duration-200 hover:gap-2 hover:scale-110"
      >
        Create
      </button>
      <button
        (click)="cancelCreate()"
        class="px-4 py-2 bg-red-500 text-white rounded-md cursor-pointer font-semibold hover:bg-red-400 transition duration-200 hover:scale-110"
      >
        Cancel
      </button>
    </div>
    }
  </div>
  }
</div>
